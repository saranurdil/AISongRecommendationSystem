{% extends "base.html" %}
{% block content %}

<!-- Search header -->
<div class="search-wrap">
  <form method="get" action="{{ url_for('ui.search_page') }}" class="w-100" style="max-width: 720px;">
    <input
      type="text"
      name="q"
      class="search-input"
      placeholder="Search a song to find its match"
      value="{{ q or '' }}"
      aria-label="Search songs"
    >
  </form>
</div>

{% if message %}
  <div class="alert alert-info">{{ message }}</div>
{% endif %}

{% if results %}
  {% for r in results %}
    <div class="neon-card">
      <div class="flex space-between">
        <!-- Left: thumb + title/artist -->
        <div class="flex">
          <!-- If you later add real art URLs, replace this block with an <img> -->
          <div class="col">
            <div class="song-title">{{ r.track_name }}</div>
            <div class="song-artist">{{ r.artists }}</div>
            <div class="small" style="color:#c58ad9;">{{ r.album_name }}</div>
          </div>
        </div>

        <!-- Right: actions -->
        <div class="col" style="align-items:flex-end;">
          <a class="btn-neon" href="{{ url_for('ui.details_page', track_id=r.track_id) }}">Details</a>
          <a class="btn-neon mt-2" href="{{ url_for('ui.recommend_page') }}?track_id={{ r.track_id }}">Get Recommendations</a>
        </div>
      </div>
    </div>
  {% endfor %}

{% elif q %}
  <div class="alert alert-warning">No results.</div>
{% endif %}

{% endblock %}
